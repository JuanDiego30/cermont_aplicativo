// ============================================
// MODELOS LEGACY - COMPATIBILIDAD
// ============================================

model Kit {
  id          String    @id @default(uuid())
  nombre      String
  descripcion String?
  categoria   String?
  activo      Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  items KitItem[]

  @@map("kits")
}

model KitItem {
  id       String @id @default(uuid())
  kitId    String
  nombre   String
  cantidad Int    @default(1)
  unidad   String @default("UND")

  kit Kit @relation(fields: [kitId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([kitId])
  @@map("kit_items")
}

model Formulario {
  id          String  @id @default(uuid())
  nombre      String
  descripcion String?
  categoria   String?
  campos      Json
  activo      Boolean @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  respuestas FormularioRespuestaLegacy[]

  @@map("formularios")
}

model FormularioRespuestaLegacy {
  id           String     @id @default(uuid())
  formularioId String
  ordenId      String?
  respuestas   Json
  creadoPorId  String?
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  formulario Formulario @relation(fields: [formularioId], references: [id], onDelete: Cascade)

  @@index([formularioId])
  @@index([ordenId])
  @@map("formulario_respuestas_legacy")
}

model HES {
  id            String   @id @default(uuid())
  equipoId      String?
  ordenId       String?
  tipo          String
  resultados    Json?
  observaciones String?
  aprobado      Boolean  @default(false)
  inspectorId   String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("hes_registros")
}

model LineaVida {
  id                       String    @id @default(uuid())
  ubicacion                String
  tipo                     String?
  longitud                 Float?
  capacidadUsuarios        Int?
  fechaInstalacion         DateTime?
  fechaProximaInspeccion   DateTime?
  observaciones            String?
  estado                   String    @default("activo")
  createdAt                DateTime  @default(now())
  updatedAt                DateTime  @updatedAt

  inspecciones InspeccionLineaVidaLegacy[]

  @@map("lineas_vida")
}

model InspeccionLineaVidaLegacy {
  id            String     @id @default(uuid())
  lineaVidaId   String
  tipo          String?
  resultados    Json?
  aprobado      Boolean    @default(false)
  observaciones String?
  inspectorId   String
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt

  lineaVida LineaVida @relation(fields: [lineaVidaId], references: [id], onDelete: Cascade)

  @@index([lineaVidaId])
  @@map("inspecciones_linea_vida_legacy")
}

<div class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4 py-10">
  <div
    class="w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-lg dark:border-gray-800 dark:bg-gray-900"
  >
    <h1 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Crear cuenta</h1>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Completa los datos para registrarte</p>

    <form class="mt-6 space-y-4" [formGroup]="form" (ngSubmit)="onSubmit()">
      <div>
        <label for="nombre" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Nombre</label
        >
        <input
          id="nombre"
          type="text"
          formControlName="nombre"
          class="mt-1 w-full rounded-lg border border-gray-300 bg-transparent px-3 py-2 text-sm text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100"
          placeholder="Tu nombre"
        />
        @if (nombre?.invalid && (nombre?.dirty || nombre?.touched)) {
          <p class="mt-1 text-xs text-error-500">Ingresa un nombre válido.</p>
        }
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Correo</label
        >
        <input
          id="email"
          type="email"
          formControlName="email"
          class="mt-1 w-full rounded-lg border border-gray-300 bg-transparent px-3 py-2 text-sm text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100"
          placeholder="correo@dominio.com"
        />
        @if (email?.invalid && (email?.dirty || email?.touched)) {
          <p class="mt-1 text-xs text-error-500">Ingresa un correo válido.</p>
        }
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Contraseña</label
        >
        <div class="relative">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            class="mt-1 w-full rounded-lg border border-gray-300 bg-transparent px-3 py-2 pr-10 text-sm text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100"
            placeholder="********"
          />
          <button
            type="button"
            (click)="togglePasswordVisibility()"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400"
          >
            {{ showPassword ? 'Ocultar' : 'Mostrar' }}
          </button>
        </div>
        @if (password?.invalid && (password?.dirty || password?.touched)) {
          <p class="mt-1 text-xs text-error-500">Mínimo 8 caracteres.</p>
        }
      </div>

      <div>
        <label
          for="confirmPassword"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Confirmar contraseña</label
        >
        <div class="relative">
          <input
            id="confirmPassword"
            [type]="showConfirmPassword ? 'text' : 'password'"
            formControlName="confirmPassword"
            class="mt-1 w-full rounded-lg border border-gray-300 bg-transparent px-3 py-2 pr-10 text-sm text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100"
            placeholder="********"
          />
          <button
            type="button"
            (click)="toggleConfirmPasswordVisibility()"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400"
          >
            {{ showConfirmPassword ? 'Ocultar' : 'Mostrar' }}
          </button>
        </div>
      </div>

      @if (error) {
        <p class="text-sm text-error-500">{{ error }}</p>
      }

      <button
        type="submit"
        [disabled]="loading"
        class="w-full rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white shadow-theme-xs hover:bg-brand-600 disabled:cursor-not-allowed disabled:opacity-60"
      >
        {{ loading ? 'Creando cuenta...' : 'Crear cuenta' }}
      </button>
    </form>

    <p class="mt-4 text-center text-sm text-gray-500 dark:text-gray-400">
      ¿Ya tienes cuenta?
      <a routerLink="/auth/sign-in" class="text-brand-500 hover:underline">Inicia sesión</a>
    </p>
  </div>
</div>
